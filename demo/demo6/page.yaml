type: system:type
id: page
fields:
    title:
        type: system:@array
        items:
            type: "@foo"
            rules:
                -
                    selector: ':has(.tags:has(:val("a")))>.foo'
                    type: system:@string
                    pattern: "foo"